(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ddc52ef"],{"0531":function(e,t,s){},73334:function(e,t,s){"use strict";var a=s("0d58"),r=s("2621"),o=s("52a7"),n=s("4bf8"),i=s("626a"),c=Object.assign;e.exports=!c||s("79e5")(function(){var e={},t={},s=Symbol(),a="abcdefghijklmnopqrst";return e[s]=7,a.split("").forEach(function(e){t[e]=e}),7!=c({},e)[s]||Object.keys(c({},t)).join("")!=a})?function(e,t){var s=n(e),c=arguments.length,l=1,u=r.f,d=o.f;while(c>l){var h,f=i(arguments[l++]),m=u?a(f).concat(u(f)):a(f),v=m.length,p=0;while(v>p)d.call(f,h=m[p++])&&(s[h]=f[h])}return s}:c},"8b7e":function(e,t,s){"use strict";var a=s("0531"),r=s.n(a);r.a},e10f:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-snackbar",{attrs:{color:e.color,top:!0,right:!0,dark:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[s("div",[e._v(e._s(e.message))]),s("v-icon",{attrs:{size:"16"},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            mdi-close-circle\n        ")])],1),s("v-flex",{attrs:{md12:""}},[s("material-card",{attrs:{color:"green",title:"Purchases",text:"A list of purchases and corresponding histories"}},[s("v-data-table",{attrs:{headers:e.headers,items:e.filteredProducts,loading:e.loading},scopedSlots:e._u([{key:"headerCell",fn:function(t){var a=t.header;return[s("span",{staticClass:"subheading font-weight-light text-success text--darken-3",domProps:{textContent:e._s(a.text)}})]}},{key:"items",fn:function(t){return[s("tr",[s("td",[e._v(e._s(t.item.reference))]),s("td",[e._v(e._s(t.item.code))]),s("td",[e._v(e._s(t.item.previous_quantity))]),s("td",[e._v(e._s(t.item.current_quantity))]),s("td",[e._v(e._s(t.item.remarks||"N/A"))]),s("td",[e._v(e._s(t.item.customer_number||"N/A"))]),s("td",[e._v(e._s(t.item.product.name||"N/A"))]),s("td",[e._v(e._s(e._f("moment")(t.item.created_at,"dddd, MMMM Do YYYY, hh:mm a")))])])]}},{key:"expand",fn:function(t){return[s("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",[s("material-card",{attrs:{color:"green",title:"Purchase Details",text:"Purchase history details"}},[s("v-data-table",{attrs:{headers:e.DetailsHeader,items:e.item},scopedSlots:e._u([{key:"headerCell",fn:function(t){var a=t.header;return[s("span",{staticClass:"font-weight-light text-warning text--darken-3",domProps:{textContent:e._s(a.text)}})]}},{key:"items",fn:function(t){return[s("td",[e._v(e._s(t.item))]),s("td",[e._v(e._s(t.item.product.name))]),s("td",{staticClass:"text-xs-right"},[e._v("GHÂ¢ "+e._s(t.item.product.unit_price))]),s("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.product.quantity))]),s("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.reference))])]}}])})],1)],1)],1)],1)]}}])},[s("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1)],1),s("v-flex",{attrs:{md12:""}})],1)],1)},r=[],o=s("be94"),n=(s("f751"),s("cadf"),s("551c"),s("097d"),s("2f62")),i={name:"Purchases",data:function(){return{snackbar:!1,message:"This is a temp message",color:"success",colors:["purple","info","success","warning","error"],dialog:!1,dialog1:!1,headers:[{sortable:!1,text:"Purchase Ref.",value:"reference"},{sortable:!1,text:"Code",value:"code"},{sortable:!1,text:"Prev. Qty",value:"previous_quantity"},{sortable:!1,text:"Current Qty",value:"current_quantity"},{sortable:!1,text:"Remarks",value:"remarks"},{sortable:!1,text:"Customer No.",value:"name"},{sortable:!1,text:"Product",value:"name"},{sortable:!1,text:"Date",value:"date"}],DetailsHeader:[{sortable:!1,text:"Purchase Ref.",value:"reference"},{sortable:!1,text:"Previous Quantity",value:"previous_quantity"},{sortable:!1,text:"Updated Quantity",value:"current_quantity"},{sortable:!1,text:"Remarks",value:"remarks"},{sortable:!1,text:"Customer No.",value:"name"},{sortable:!1,text:"Product",value:"phone"},{sortable:!1,text:"Date",value:"date"}],items:[],product:[],editedIndex:-1,confirm:!1}},methods:{fetchPurchases:function(){this.$store.dispatch("getPurchases",{cache:!1})},editItem:function(e){this.editedIndex=0,console.log("Item",e),this.dialog=!0},deleteItem:function(e){var t=this;this.dialog1=!0,this.confirm&&this.$store.dispatch("deleteProduct",e).then(function(){response.data.status?(t.message=response.data.response.message,t.color="success",t.snackbar=!0,t.close()):(t.message=response.data.response.message,t.color="error",t.snackbar=!0)}).catch(function(e){t.message="An error occured, please try again",t.color="error",t.snackbar=!0})},close:function(){var e=this;this.dialog=!1,this.dialog1=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},save:function(){var e=this;this.editedIndex>-1?console.log("what is this",this.product[this.editedIndex]):(console.log("Product to be saved!!",this.editedItem),this.$store.dispatch("createProduct",this.editedItem).then(function(){response.data.status?(e.message=response.data.response.message,e.color="success",e.snackbar=!0,e.close()):(e.message=response.data.response.message,e.color="error",e.snackbar=!0)}).catch(function(t){e.message="An error occured, please try again",e.color="error",e.snackbar=!0}))},snack:function(){this.top=!1,this.right=!1;for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];for(var a=0;a<t.length;a++){var r=t[a];this[r]=!0}this.color=this.colors[Math.floor(Math.random()*this.colors.length)],this.snackbar=!0},clickRow:function(e){this.$router.push("/purchases/".concat(e))}},created:function(){this.$store.dispatch("getPurchases")},computed:Object(o["a"])({},Object(n["b"])({purchases:"purchases",state:"purchasesState",meta:"purchasesMeta"}),{filteredProducts:function(){return this.purchases},loading:function(){return"LOADING"===this.state},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}}),watch:{dialog:function(e){e||this.close()}}},c=i,l=(s("8b7e"),s("2877")),u=Object(l["a"])(c,a,r,!1,null,null,null);u.options.__file="Purchases.vue";t["default"]=u.exports},f751:function(e,t,s){var a=s("5ca1");a(a.S+a.F,"Object",{assign:s("73334")})}}]);
//# sourceMappingURL=chunk-2ddc52ef.75b37428.js.map