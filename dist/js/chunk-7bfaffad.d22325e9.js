(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bfaffad"],{2357:function(e,t,a){},73334:function(e,t,a){"use strict";var s=a("0d58"),n=a("2621"),i=a("52a7"),r=a("4bf8"),o=a("626a"),c=Object.assign;e.exports=!c||a("79e5")(function(){var e={},t={},a=Symbol(),s="abcdefghijklmnopqrst";return e[a]=7,s.split("").forEach(function(e){t[e]=e}),7!=c({},e)[a]||Object.keys(c({},t)).join("")!=s})?function(e,t){var a=r(e),c=arguments.length,l=1,d=n.f,m=i.f;while(c>l){var u,g=o(arguments[l++]),f=d?s(g).concat(d(g)):s(g),h=f.length,v=0;while(h>v)m.call(g,u=f[v++])&&(a[u]=g[u])}return a}:c},"84c2":function(e,t,a){"use strict";var s=a("2357"),n=a.n(s);n.a},9392:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-snackbar",{attrs:{color:e.color,top:!0,right:!0,dark:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[a("div",[e._v(e._s(e.message))]),a("v-icon",{attrs:{size:"16"},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            mdi-close-circle\n        ")])],1),a("v-dialog",{attrs:{"max-width":"370"},model:{value:e.dialog1,callback:function(t){e.dialog1=t},expression:"dialog1"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Warning")]),a("v-card-text",[a("v-flex",[a("v-icon",{staticClass:"mr-2",attrs:{size:"20",color:"red"}},[e._v(" mdi-alert-circle")]),a("span",[e._v("Are you sure you want to delete this agent?")])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",outline:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",loading:e.loading},on:{click:e.deleteItem}},[e._v(" Delete ")])],1)],1)],1),a("v-flex",{attrs:{md12:""}},[a("material-card",{attrs:{color:"green",title:"Agents",text:"A list of agents",filter:!1,page:"agents"}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2 add",attrs:{slot:"activator",color:"green",dark:"",fab:"",icon:"",light:"",round:""},slot:"activator"},[a("v-icon",[e._v("mdi-plus")])],1),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{staticClass:"pa-0",attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"First Name"},model:{value:e.editedItem.first_name,callback:function(t){e.$set(e.editedItem,"first_name",t)},expression:"editedItem.first_name"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Last Name"},model:{value:e.editedItem.last_name,callback:function(t){e.$set(e.editedItem,"last_name",t)},expression:"editedItem.last_name"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Username"},model:{value:e.editedItem.username,callback:function(t){e.$set(e.editedItem,"username",t)},expression:"editedItem.username"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Phone Number"},model:{value:e.editedItem.phone_number,callback:function(t){e.$set(e.editedItem,"phone_number",t)},expression:"editedItem.phone_number"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",outline:"",flat:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"green darken-1",loading:e.loading},on:{click:e.save}},[e._v("Save")])],1)],1)],1),a("v-data-table",{attrs:{headers:e.headers,items:e.filteredAgents,loading:e.loading},scopedSlots:e._u([{key:"headerCell",fn:function(t){var s=t.header;return[a("span",{staticClass:"subheading font-weight-light text-success text--darken-3",domProps:{textContent:e._s(s.text)}})]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.first_name)+" "+e._s(t.item.last_name)+" ")]),a("td",[e._v(e._s(t.item.username))]),a("td",[e._v(e._s(t.item.email))]),a("td",[e._v(e._s(t.item.phone_number))]),a("td",[e._v(e._s(t.item.number_of_deliveries))]),a("td",{staticClass:"justify-center px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(a){e.clear(t.item.id)}}},[e._v("mdi-delete")])],1)]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"green",indeterminate:""},slot:"progress"})],1)],1)],1),a("v-flex",{attrs:{md12:""}})],1)],1)},n=[],i=(a("f751"),a("be94")),r=(a("cadf"),a("551c"),a("097d"),a("2f62")),o=(a("c1df"),{name:"Agents",data:function(){return{snackbar:!1,message:"This is a temp message",color:"success",colors:["purple","info","success","warning","error"],dialog:!1,dialog1:!1,headers:[{sortable:!1,text:"Name",value:"name"},{sortable:!1,text:"Username",value:"username"},{sortable:!1,text:"Email",value:"email"},{sortable:!1,text:"Phone Number",value:"phone_number"},{sortable:!1,text:"Number of Deliveries",value:"number_of_deliveries"},{sortable:!1,text:"",value:""}],items:[],productsList:[],editedIndex:-1,editedItem:{first_name:"",last_name:"",username:"",phone_number:"",email:""},defaultItem:{first_name:"",last_name:"",username:"",phone_number:"",email:""},confirm:!1,it:""}},created:function(){var e=this;this.$store.dispatch("getAgents",{cache:!1}).then(function(){e.productsList=e.agents})},mounted:function(){var e=this;this.$store.dispatch("getAgents").then(function(){e.productsList=e.agents})},computed:Object(i["a"])({},Object(r["b"])({agents:"agents",state:"agentsState",meta:"agentsMeta"}),{filteredAgents:function(){return this.agents},loading:function(){return"LOADING"===this.state},formTitle:function(){return-1===this.editedIndex?"New Agent":"Edit Agent"}}),watch:{dialog:function(e){e||this.close()}},methods:{fetchProducts:function(){this.$store.dispatch("getAgents",{cache:!1})},editItem:function(e){var t=this;this.editedIndex=this.productsList.indexOf(e),console.log("Index: ",this.editedIndex),this.editedItem=Object.assign({},e),-1===this.editedIndex?(this.editedIndex=1,setTimeout(function(){t.dialog=!0},300)):this.dialog=!0},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},save:function(){var e=this;this.editedIndex>-1?(console.log("Editing the item!!"),this.$store.dispatch("updateAgent",this.editedItem).then(function(t){t.data.status?(e.color="success",e.message=t.data.response.message,e.snackbar=!0,e.$store.dispatch("getAgents",{cache:!1}).then(function(){e.close()})):(e.message=t.data.response.message,e.color="warning",e.snackbar=!0)}).catch(function(t){e.message="".concat(t),e.color="error",e.snackbar=!0})):(console.log("Saving a new agent"),this.$store.dispatch("createAgent",this.editedItem).then(function(t){t.data.status?(e.color="success",e.message=t.data.response.message,e.snackbar=!0,e.$store.dispatch("getAgents",{cache:!1}).then(function(){e.close()})):(e.message=t.data.response.message,e.color="warning",e.snackbar=!0)}).catch(function(t){e.message="".concat(t),e.color="error",e.snackbar=!0}))},deleteItem:function(){var e=this;this.$store.dispatch("deleteAgent",this.it).then(function(t){e.color="success",t.data.status?(e.message=t.data.response.message,e.snackbar=!0,e.$store.dispatch("getAgents",{cache:!1}).then(function(){e.dialog1=!1})):(e.message=t.data.response.message,e.color="error",e.snackbar=!0)}).catch(function(t){e.message="".concat(t),e.color="error",e.snackbar=!0})},clear:function(e){this.dialog1=!0,this.it=e},snack:function(){this.top=!1,this.right=!1;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var s=0;s<t.length;s++){var n=t[s];this[n]=!0}this.color=this.colors[Math.floor(Math.random()*this.colors.length)],this.snackbar=!0}}}),c=o,l=(a("84c2"),a("2877")),d=Object(l["a"])(c,s,n,!1,null,null,null);d.options.__file="Agents.vue";t["default"]=d.exports},f751:function(e,t,a){var s=a("5ca1");s(s.S+s.F,"Object",{assign:a("73334")})}}]);
//# sourceMappingURL=chunk-7bfaffad.d22325e9.js.map