(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ddc52ef"],{"0531":function(t,e,s){},73334:function(t,e,s){"use strict";var a=s("0d58"),r=s("2621"),n=s("52a7"),o=s("4bf8"),i=s("626a"),c=Object.assign;t.exports=!c||s("79e5")(function(){var t={},e={},s=Symbol(),a="abcdefghijklmnopqrst";return t[s]=7,a.split("").forEach(function(t){e[t]=t}),7!=c({},t)[s]||Object.keys(c({},e)).join("")!=a})?function(t,e){var s=o(t),c=arguments.length,u=1,l=r.f,d=n.f;while(c>u){var h,f=i(arguments[u++]),m=l?a(f).concat(l(f)):a(f),p=m.length,v=0;while(p>v)d.call(f,h=m[v++])&&(s[h]=f[h])}return s}:c},"8b7e":function(t,e,s){"use strict";var a=s("0531"),r=s.n(a);r.a},e10f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-snackbar",{attrs:{color:t.color,top:!0,right:!0,dark:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[s("div",[t._v(t._s(t.message))]),s("v-icon",{attrs:{size:"16"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n          mdi-close-circle\n        ")])],1),s("v-flex",{attrs:{md12:""}},[s("material-card",{attrs:{color:"green",title:"Purchases",text:"A list of purchases and corresponding histories",filter:!0,page:"purchases"}},[s("v-data-table",{attrs:{headers:t.headers,items:t.filteredProducts,loading:t.loading},scopedSlots:t._u([{key:"headerCell",fn:function(e){var a=e.header;return[s("span",{staticClass:"subheading font-weight-light text-success text--darken-3",domProps:{textContent:t._s(a.text)}})]}},{key:"items",fn:function(e){return[s("tr",[s("td",[t._v(t._s(e.item.reference))]),s("td",[t._v(t._s(e.item.status))]),s("td",[t._v(t._s(e.item.previous_quantity))]),s("td",[t._v(t._s(e.item.current_quantity))]),s("td",[t._v(t._s(e.item.customer_number||"N/A"))]),s("td",[t._v(t._s(e.item.product.name||"N/A"))]),s("td",[t._v(t._s(t._f("moment")(e.item.created_at,"dddd, MMMM Do YYYY, hh:mm a")))])])]}},{key:"expand",fn:function(e){return[s("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",[s("material-card",{attrs:{color:"green",title:"Purchase Details",text:"Purchase history details"}},[s("v-data-table",{attrs:{headers:t.DetailsHeader,items:t.item},scopedSlots:t._u([{key:"headerCell",fn:function(e){var a=e.header;return[s("span",{staticClass:"font-weight-light text-warning text--darken-3",domProps:{textContent:t._s(a.text)}})]}},{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item))]),s("td",[t._v(t._s(e.item.product.name))]),s("td",{staticClass:"text-xs-right"},[t._v("GHÂ¢ "+t._s(e.item.product.unit_price))]),s("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.product.quantity))]),s("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.reference))])]}}])})],1)],1)],1)],1)]}}])},[s("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1)],1),s("v-flex",{attrs:{md12:""}})],1)],1)},r=[],n=s("be94"),o=(s("f751"),s("2f62")),i={name:"Purchases",data:function(){return{snackbar:!1,message:"This is a temp message",color:"success",colors:["purple","info","success","warning","error"],dialog:!1,dialog1:!1,headers:[{sortable:!1,text:"Purchase Ref.",value:"reference"},{sortable:!1,text:"Status",value:"status"},{sortable:!1,text:"Prev. Qty",value:"previous_quantity"},{sortable:!1,text:"Current Qty",value:"current_quantity"},{sortable:!1,text:"Customer No.",value:"name"},{sortable:!1,text:"Product",value:"name"},{sortable:!1,text:"Date",value:"date"}],DetailsHeader:[{sortable:!1,text:"Purchase Ref.",value:"reference"},{sortable:!1,text:"Previous Quantity",value:"previous_quantity"},{sortable:!1,text:"Updated Quantity",value:"current_quantity"},{sortable:!1,text:"Remarks",value:"remarks"},{sortable:!1,text:"Customer No.",value:"name"},{sortable:!1,text:"Product",value:"phone"},{sortable:!1,text:"Date",value:"date"}],items:[],product:[],editedIndex:-1,confirm:!1}},methods:{fetchPurchases:function(){this.$store.dispatch("getPurchases",{cache:!1})},editItem:function(t){this.editedIndex=0,console.log("Item",t),this.dialog=!0},deleteItem:function(t){var e=this;this.dialog1=!0,this.confirm&&this.$store.dispatch("deleteProduct",t).then(function(){response.data.status?(e.message=response.data.response.message,e.color="success",e.snackbar=!0,e.close()):(e.message=response.data.response.message,e.color="error",e.snackbar=!0)}).catch(function(t){e.message="An error occured, please try again",e.color="error",e.snackbar=!0})},close:function(){var t=this;this.dialog=!1,this.dialog1=!1,setTimeout(function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;this.editedIndex>-1?console.log("what is this",this.product[this.editedIndex]):(console.log("Product to be saved!!",this.editedItem),this.$store.dispatch("createProduct",this.editedItem).then(function(){response.data.status?(t.message=response.data.response.message,t.color="success",t.snackbar=!0,t.close()):(t.message=response.data.response.message,t.color="error",t.snackbar=!0)}).catch(function(e){t.message="An error occured, please try again",t.color="error",t.snackbar=!0}))},snack:function(){this.top=!1,this.right=!1;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];for(var a=0;a<e.length;a++){var r=e[a];this[r]=!0}this.color=this.colors[Math.floor(Math.random()*this.colors.length)],this.snackbar=!0},clickRow:function(t){this.$router.push("/purchases/".concat(t))}},created:function(){this.$store.dispatch("getPurchases")},computed:Object(n["a"])({},Object(o["b"])({purchases:"purchases",state:"purchasesState",meta:"purchasesMeta"}),{filteredProducts:function(){return this.purchases},loading:function(){return"LOADING"===this.state},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}}),watch:{dialog:function(t){t||this.close()}}},c=i,u=(s("8b7e"),s("2877")),l=Object(u["a"])(c,a,r,!1,null,null,null);l.options.__file="Purchases.vue";e["default"]=l.exports},f751:function(t,e,s){var a=s("5ca1");a(a.S+a.F,"Object",{assign:s("73334")})}}]);
//# sourceMappingURL=chunk-2ddc52ef.66b6c739.js.map