(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ed0e308"],{"3ff1":function(t,e,a){"use strict";var i=a("8d0f"),s=a.n(i);s.a},"6d0d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-snackbar",{attrs:{color:t.color,top:!0,right:!0,dark:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("div",[t._v(t._s(t.message))]),a("v-icon",{attrs:{size:"16"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n          mdi-close-circle\n      ")])],1),a("v-dialog",{attrs:{"max-width":"370"},model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Warning")]),a("v-card-text",[a("v-flex",[a("v-icon",{staticClass:"mr-2",attrs:{size:"20",color:"red"}},[t._v(" mdi-alert-circle")]),a("span",[t._v("Are you sure you want to delete this item?")])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",outline:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",loading:t.loading},on:{click:t.deleteItem}},[t._v(" Delete ")])],1)],1)],1),a("v-flex",{attrs:{md12:""}},[a("material-card",{attrs:{color:"green",title:"Products",text:"A list of products",filter:!0,page:"products"}},[a("v-card-title",{staticClass:"pa-0 pb-4"},[a("v-text-field",{attrs:{icon:"mdi-meteor",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2 add",attrs:{slot:"activator",color:"green",dark:"",fab:"",icon:"",light:"",round:""},slot:"activator"},[a("v-icon",[t._v("mdi-plus")])],1),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{staticClass:"pa-0",attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Product Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Quantity",type:"number"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Unit Price",type:"number"},model:{value:t.editedItem.unit_price,callback:function(e){t.$set(t.editedItem,"unit_price",e)},expression:"editedItem.unit_price"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",outline:"",flat:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"green darken-1",loading:t.loading},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1),a("v-data-table",{attrs:{headers:t.headers,items:t.filteredProducts,loading:t.loading,search:t.search,"hide-actions":"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headerCell",fn:function(e){var i=e.header;return[a("span",{staticClass:"subheading font-weight-light text-success text--darken-3",domProps:{textContent:t._s(i.text)}})]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(e.item.quantity))]),a("td",[t._v("GHÂ¢ "+t._s(e.item.unit_price))]),a("td",[t._v(t._s(e.item.description||"N/A"))]),a("td",{staticClass:"justify-center px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(a){t.clear(e.item.id)}}},[t._v("mdi-delete")])],1)]}}])},[a("v-progress-linear",{directives:[{name:"slot",rawName:"v-slot:progress",arg:"progress"}],attrs:{color:"blue",indeterminate:""}})],1),a("div",{staticClass:"text-xs-right pt-2"},[a("v-pagination",{attrs:{length:t.pages,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right"},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)],1)],1)},s=[],n=(a("f751"),a("be94")),c=(a("cadf"),a("551c"),a("097d"),a("2f62")),o=(a("c1df"),{data:function(){return{pagination:{},snackbar:!1,message:"This is a temp message",color:"success",colors:["purple","info","success","warning","error"],dialog:!1,dialog1:!1,headers:[{text:"Name",value:"name"},{text:"Code",value:"code"},{text:"Quantity",value:"quantity"},{text:"Unit Price",value:"unit_price"},{text:"Description",value:"description"},{text:"",value:""}],items:[],productsList:[],editedIndex:-1,editedItem:{name:"",quantity:0,unit_price:0,description:"",currency:"GHs"},defaultItem:{name:"",quantity:0,unit_price:0,description:"",currency:"GHs"},confirm:!1,it:"",search:""}},created:function(){var t=this;this.$store.dispatch("getProducts").then(function(e){t.productsList=t.products})},computed:Object(n["a"])({},Object(c["b"])({products:"products",state:"productsState",meta:"productsMeta"}),{filteredProducts:function(){return this.products},loading:function(){return"LOADING"===this.state},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}}),watch:{dialog:function(t){t||this.close()}},methods:{fetchProducts:function(){this.$store.dispatch("getProducts",{cache:!1})},editItem:function(t){var e=this;this.editedIndex=this.productsList.indexOf(t),console.log("Index: ",this.editedIndex),this.editedItem=Object.assign({},t),-1===this.editedIndex?(this.editedIndex=1,setTimeout(function(){e.dialog=!0},300)):this.dialog=!0},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;this.editedIndex>-1?(console.log("Editing the item!!"),this.$store.dispatch("updateProduct",this.editedItem).then(function(e){e.data.status?(t.color="success",t.message=e.data.response.message,t.snackbar=!0,t.$store.dispatch("getProducts",{cache:!1}).then(function(){t.close()})):(t.message=e.data.response.message,t.color="warning",t.snackbar=!0)}).catch(function(e){t.message="".concat(e),t.color="error",t.snackbar=!0})):(console.log("Saving a new item"),this.$store.dispatch("createProduct",this.editedItem).then(function(e){e.data.status?(t.color="success",t.message=e.data.response.message,t.snackbar=!0,t.$store.dispatch("getProducts",{cache:!1}).then(function(){t.close()})):(t.message=e.data.response.message,t.color="warning",t.snackbar=!0)}).catch(function(e){t.message="".concat(e),t.color="error",t.snackbar=!0}))},deleteItem:function(){var t=this;this.$store.dispatch("deleteProduct",this.it).then(function(e){t.color="success",e.data.status?(t.message=e.data.response.message,t.snackbar=!0,t.$store.dispatch("getProducts",{cache:!1}).then(function(){t.dialog1=!1})):(t.message=e.data.response.message,t.color="error",t.snackbar=!0)}).catch(function(e){t.message="".concat(e),t.color="error",t.snackbar=!0})},clear:function(t){this.dialog1=!0,this.it=t},snack:function(){this.top=!1,this.right=!1;for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];for(var i=0;i<e.length;i++){var s=e[i];this[s]=!0}this.color=this.colors[Math.floor(Math.random()*this.colors.length)],this.snackbar=!0}}}),r=o,d=(a("3ff1"),a("2877")),l=Object(d["a"])(r,i,s,!1,null,null,null);l.options.__file="TableList.vue";e["default"]=l.exports},73334:function(t,e,a){"use strict";var i=a("0d58"),s=a("2621"),n=a("52a7"),c=a("4bf8"),o=a("626a"),r=Object.assign;t.exports=!r||a("79e5")(function(){var t={},e={},a=Symbol(),i="abcdefghijklmnopqrst";return t[a]=7,i.split("").forEach(function(t){e[t]=t}),7!=r({},t)[a]||Object.keys(r({},e)).join("")!=i})?function(t,e){var a=c(t),r=arguments.length,d=1,l=s.f,u=n.f;while(r>d){var m,h=o(arguments[d++]),p=l?i(h).concat(l(h)):i(h),g=p.length,f=0;while(g>f)u.call(h,m=p[f++])&&(a[m]=h[m])}return a}:r},"8d0f":function(t,e,a){},f751:function(t,e,a){var i=a("5ca1");i(i.S+i.F,"Object",{assign:a("73334")})}}]);
//# sourceMappingURL=chunk-2ed0e308.b64fc796.js.map