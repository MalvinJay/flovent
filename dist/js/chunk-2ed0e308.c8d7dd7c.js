(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ed0e308"],{"3ff1":function(t,e,s){"use strict";var a=s("8d0f"),i=s.n(a);i.a},"6d0d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-snackbar",{attrs:{color:t.color,top:!0,right:!0,dark:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[s("div",[t._v(t._s(t.message))]),s("v-icon",{attrs:{size:"16"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n          mdi-close-circle\n      ")])],1),s("v-dialog",{attrs:{"max-width":"370"},model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v("Warning")]),s("v-card-text",[s("v-flex",[s("v-icon",{staticClass:"mr-2",attrs:{size:"20",color:"red"}},[t._v(" mdi-alert-circle")]),s("span",[t._v("Are you sure you want to delete this item?")])],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",outline:""},on:{click:t.close}},[t._v(" Cancel ")]),s("v-btn",{attrs:{color:"green darken-1",loading:t.loading},on:{click:t.deleteItem}},[t._v(" Delete ")])],1)],1)],1),s("v-flex",{attrs:{md12:""}},[s("material-card",{attrs:{color:"green",title:"Products",text:"A list of products",filter:!0,page:"products"}},[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-btn",{staticClass:"mb-2 add",attrs:{slot:"activator",color:"green",dark:"",fab:"",icon:"",light:"",round:""},slot:"activator"},[s("v-icon",[t._v("mdi-plus")])],1),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),s("v-card-text",[s("v-container",{staticClass:"pa-0",attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Product Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Quantity",type:"number"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Unit Price",type:"number"},model:{value:t.editedItem.unit_price,callback:function(e){t.$set(t.editedItem,"unit_price",e)},expression:"editedItem.unit_price"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",outline:"",flat:""},on:{click:t.close}},[t._v("Cancel")]),s("v-btn",{attrs:{color:"green darken-1",loading:t.loading},on:{click:t.save}},[t._v("Save")])],1)],1)],1),s("v-data-table",{attrs:{headers:t.headers,items:t.filteredProducts,loading:t.loading},scopedSlots:t._u([{key:"headerCell",fn:function(e){var a=e.header;return[s("span",{staticClass:"subheading font-weight-light text-success text--darken-3",domProps:{textContent:t._s(a.text)}})]}},{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.name))]),s("td",[t._v(t._s(e.item.code))]),s("td",[t._v(t._s(e.item.quantity))]),s("td",[t._v("GHÂ¢ "+t._s(e.item.unit_price))]),s("td",[t._v(t._s(e.item.description||"N/A"))]),s("td",{staticClass:"justify-center px-0"},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(s){t.editItem(e.item)}}},[t._v("mdi-pencil")]),s("v-icon",{attrs:{small:""},on:{click:function(s){t.clear(e.item.id)}}},[t._v("mdi-delete")])],1)]}}])},[s("v-progress-linear",{directives:[{name:"slot",rawName:"v-slot:progress",arg:"progress"}],attrs:{color:"blue",indeterminate:""}})],1)],1)],1)],1)],1)},i=[],n=(s("f751"),s("be94")),c=(s("cadf"),s("551c"),s("097d"),s("2f62")),r=(s("c1df"),{data:function(){return{snackbar:!1,message:"This is a temp message",color:"success",colors:["purple","info","success","warning","error"],dialog:!1,dialog1:!1,headers:[{sortable:!1,text:"Name",value:"name"},{sortable:!1,text:"Code",value:"code"},{sortable:!1,text:"Quantity",value:"quantity"},{sortable:!1,text:"Unit Price",value:"unit_price"},{sortable:!1,text:"Description",value:"description"},{sortable:!1,text:"",value:""}],items:[],productsList:[],editedIndex:-1,editedItem:{name:"",quantity:0,unit_price:0,description:"",currency:"GHs"},defaultItem:{name:"",quantity:0,unit_price:0,description:"",currency:"GHs"},confirm:!1,it:""}},created:function(){var t=this;this.$store.dispatch("getProducts").then(function(e){t.productsList=t.products})},computed:Object(n["a"])({},Object(c["b"])({products:"products",state:"productsState",meta:"productsMeta"}),{filteredProducts:function(){return this.products},loading:function(){return"LOADING"===this.state},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}}),watch:{dialog:function(t){t||this.close()}},methods:{fetchProducts:function(){this.$store.dispatch("getProducts",{cache:!1})},editItem:function(t){var e=this;this.editedIndex=this.productsList.indexOf(t),console.log("Index: ",this.editedIndex),this.editedItem=Object.assign({},t),-1===this.editedIndex?(this.editedIndex=1,setTimeout(function(){e.dialog=!0},300)):this.dialog=!0},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;this.editedIndex>-1?(console.log("Editing the item!!"),this.$store.dispatch("updateProduct",this.editedItem).then(function(e){e.data.status?(t.color="success",t.message=e.data.response.message,t.snackbar=!0,t.$store.dispatch("getProducts",{cache:!1}).then(function(){t.close()})):(t.message=e.data.response.message,t.color="warning",t.snackbar=!0)}).catch(function(e){t.message="".concat(e),t.color="error",t.snackbar=!0})):(console.log("Saving a new item"),this.$store.dispatch("createProduct",this.editedItem).then(function(e){e.data.status?(t.color="success",t.message=e.data.response.message,t.snackbar=!0,t.$store.dispatch("getProducts",{cache:!1}).then(function(){t.close()})):(t.message=e.data.response.message,t.color="warning",t.snackbar=!0)}).catch(function(e){t.message="".concat(e),t.color="error",t.snackbar=!0}))},deleteItem:function(){var t=this;this.$store.dispatch("deleteProduct",this.it).then(function(e){t.color="success",e.data.status?(t.message=e.data.response.message,t.snackbar=!0,t.$store.dispatch("getProducts",{cache:!1}).then(function(){t.dialog1=!1})):(t.message=e.data.response.message,t.color="error",t.snackbar=!0)}).catch(function(e){t.message="".concat(e),t.color="error",t.snackbar=!0})},clear:function(t){this.dialog1=!0,this.it=t},snack:function(){this.top=!1,this.right=!1;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];for(var a=0;a<e.length;a++){var i=e[a];this[i]=!0}this.color=this.colors[Math.floor(Math.random()*this.colors.length)],this.snackbar=!0}}}),o=r,d=(s("3ff1"),s("2877")),l=Object(d["a"])(o,a,i,!1,null,null,null);l.options.__file="TableList.vue";e["default"]=l.exports},73334:function(t,e,s){"use strict";var a=s("0d58"),i=s("2621"),n=s("52a7"),c=s("4bf8"),r=s("626a"),o=Object.assign;t.exports=!o||s("79e5")(function(){var t={},e={},s=Symbol(),a="abcdefghijklmnopqrst";return t[s]=7,a.split("").forEach(function(t){e[t]=t}),7!=o({},t)[s]||Object.keys(o({},e)).join("")!=a})?function(t,e){var s=c(t),o=arguments.length,d=1,l=i.f,u=n.f;while(o>d){var m,f=r(arguments[d++]),v=l?a(f).concat(l(f)):a(f),h=v.length,g=0;while(h>g)u.call(f,m=v[g++])&&(s[m]=f[m])}return s}:o},"8d0f":function(t,e,s){},f751:function(t,e,s){var a=s("5ca1");a(a.S+a.F,"Object",{assign:s("73334")})}}]);
//# sourceMappingURL=chunk-2ed0e308.c8d7dd7c.js.map